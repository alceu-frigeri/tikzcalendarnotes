% !TEX program = pdflatex
% !TEX ext =  --interaction=nonstopmode --enable-etex --enable-write18
% !BIB program = none
%%%==============================================================================
\documentclass{article}

\usepackage{tikz}
\usetikzlibrary{calendar}

%\RequirePackage{anyfontsize}
%\RequirePackage{relsize}
\RequirePackage{lmodern}

\usepackage{tikzcalendarnotes}

\usepackage[active ,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{5pt}%


\begin{document}



%\defnewdataset{cal acadêmico}
\defnewdataset{academic year 2025}
\defnewdataset{vacation}
\defnewdataset{exams}

\setcountingweeks%[academic year 2025]
  {
    from = 2025-01-01 , to = 2025-12-31 , down, color = {blue!30!white,very thin} ,%starting at = 5 ,%NOTE: starting at... needs: keep counters
  }
\setdates
  {
    date = 2025-04-20 , round , square
  }  


\sethighlightdates[academic year 2025] %holidays
  {
    dates={04-18,04-19,04-21,05-01,05-17,06-19,09-20,10-28,11-02,11-15,11-20}
  }
  
\setranges[vacation]
  {
    from = {2025-01-06} , to = {2025-01-10} , color=red!20!white , 
    remark = Férias , south west , remark style = red!20!white ,
    from = {2025-02-10} , to = {2025-02-28} , color=red!20!white , 
    remark = Férias , north west , remark style = red!20!white ,
    from = {2025-07-21} , to = {2025-08-10} , color=red!20!white , 
    remark = Férias , south east , remark style = red!20!white ,
%    from = {2024-12-21} , to = {2025-01-17} , color=red!20!white , 
%    remark = outch , south east , remark style = brown , round
  }

%\setranges
%  {
%    from = {2025-04-06} , to = {2025-04-18} , round , remark = test , south east
%  }
%  
\setdates[academic year 2025]
  {
    date = 2025-03-10 , round , square , remark = {25/1$\rightarrow$} ,
    date = 2025-07-19 , round , square , remark = {25/1} ,
    date = 2025-08-11 , round , square , remark = {25/2$\rightarrow$} ,
    date = 2025-12-20 , round , square , remark = {25/2} ,
  }
\setcountingweeks[academic year 2025]
  {
    from = 2025-03-10 , to = 2025-07-19 , color = red ,%starting at = 5 ,%NOTE: starting at... needs: keep counters
  }
\setcountingweeks[academic year 2025]
  {
    from = 2025-08-11 , to = 2025-12-20 , center , %starting at = 3 ,%NOTE: starting at... needs: keep counters
  }
\suppresscounting[academic year 2025]
  {
    from = 2025-10-20 , to = 2025-10-24
  }
\setranges[academic year 2025]
  {
    from = 2025-10-20 , to = 2025-10-24 , round , color = lightgray , remark = Acad.
  }
\setdates[exams]
  {
    date = 2025-05-12 , round , remark = P1 , notes = {1a Área} ,
    date = 2025-07-07 , round , remark = P2 , notes = {2a Área} ,
    date = 2025-07-14 , round , remark = Ex , 
  }  
  
\setdates[exams]
  {
    date = 2025-04-15 , round , remark = {T1$\rightarrow$} ,
    date = 2025-04-29 , round , remark = {T2$\rightarrow$} ,
    date = 2025-05-22 , round , remark = T3 ,
    date = 2025-07-03 , round , remark = T4 ,
  }
    
\setdates[exams]
  {
    date = 2025-07-21 , square , remark = Reg , color = red , mark style = {red} ,
%    date = 2025-07-22 , square , remark = Reg , color = red , %mark style = {red,thick} ,
  }  
\setdates[exams]
  {
    date = 2025-10-13 , round , remark = P1 ,
    date = 2025-12-08 , round , remark = P2 , 
    date = 2025-12-15 , round , remark = Ex ,
  }  
\setdates[academic year 2025]
  {
    date = 2025-12-22 , square , remark = Reg , color = red , mark style = {red}
  }  
  
%\setdates[academic year 2025]
%  {
%    date = 2025-10-25 , square , remark = Reg , color = red , notes = {something to be said.}
%  }  
   

\begin{tikzpicture}
  \calendarnotes[calendar notes,
        %year label every month , 
        year label by january only ,
        year label left corner,
        month label above centered,
        day names on top,
%        day names on top,
%        every weekend = {green},
        every sunday = {blue},
%        week starts monday ,
%        year text = {Y-\%y0},
%        every year/.append style = {green},
%        day text = {\%d0} ,
%        remarks fontsize  = 4 ,
        %notes fontsize  = 4.5 ,
%radius adjust = -2 ,
%Yshift adjust = -1 ,
        ]
    {
      data set={academic year 2025, vacation , exams, default} ,
      year=2025 ,
%      remarks fontsize = 3 ,
      %starting at=11 ,
%      number of months=15 ,
      %per line=2 ,
%      name=XyZ ,
      without notes ,
%      day spacing = 5em ,
%      week spacing = 10ex ,
    }

%\draw[red] (cal-2025-07-19.north east) -- ++(-2pt,0pt);
%\draw[green] (cal-2025-07-19.north east) -- ++(10pt,0pt);
%\draw[blue] (cal-2025-07-19.north) -- (remark-2025-07-19.south) -- ++(0pt,3.8pt);
%\draw[blue] (cal-2025-07-19.north) --  ++(0pt,-3.6pt);
%
%  \draw (cal-2025-05-04.west |- cal-2025-05-01.west) -- (cal-2025-05-05.west);
%  \draw (cal-2025-05-11.west |- cal-2025-05-09.west) -- (cal-2025-05-12.west);
\end{tikzpicture}


\begin{tikzpicture}[calendar notes,
        year label by january only ,
        year label left corner,
        month label above centered,
        day names on top,
        %every sunday = {blue},
        week starts sunday ,  
        %keep counters ,  
        ]
  \calendarnotes
    {
      data set={academic year 2025, vacation , exams, default} ,
      year=2025 ,
      number of months = 6 ,
      per line=2 ,
      with notes ,
      %keep counters ,
    }
    
%    \draw (cal-2025-07-15.center) -- ++(2,2) node[red]{\pgfpictureid};
  
\end{tikzpicture}

\begin{tikzpicture}[calendar notes,
        year label by january and start ,
        year label left corner,
        month label above centered,
        day names on top,
        %every sunday = {blue},
        week starts sunday , %   
      keep counters ,
      notes fontsize = 4 ,
              radius adjust = -2.5 ,
        ]
  \calendarnotes
    {
      data set={academic year 2025, vacation , exams, default} ,
      year=2025 ,
      starting at = 7 ,
      number of months = 3 ,
      per line=2 ,
      with notes ,
    }

    \draw (cal-2025-07-14.west) -- ++(25pt,0);
    
%    \node at (cal-2025-07-15.center)  [red,round,draw]{15} ;
%    \draw (cal-2025-07-15.center) -- ++(2,2) node[red]{\pgfpictureid};
  
\end{tikzpicture}

\begin{tikzpicture}[calendar notes,
        year label by january and start ,
        year label left corner,
        month label above centered,
        day names on top,
        %every sunday = {blue},
        week starts sunday ,    
        keep counters ,
        ]
  \calendarnotes
    {
      data set={academic year 2025, vacation , exams, default} ,
      year=2025 ,
      starting at = 10 ,
      number of months = 2 ,
      per line=1 ,
      with notes ,
    }
    
%    \node at (cal-2025-07-15.center)  [red,round,draw]{15} ;
%    \draw (cal-2025-07-15.center) -- ++(2,2) node[red]{\pgfpictureid};
  
\end{tikzpicture}

%\begin{tikzpicture}
%  \calendarnotesprepare[%calendar notes,
%        year label left corner,
%        %month label above centered,
%        %day names on top,
%%        every weekend = {green},
%        every sunday = {blue},
%%        week starts on x ,
%%        week starts saturday ,
%%        year text = {Y-\%y0},
%%        every year/.append style = {green},
%%        day text = {\%d0}
%        ]
%    {
%      data set={academic year 2025, default} ,
%%      year=2024 ,
%%%      remarks fontsize = 3 ,
%%      starting at=11 ,
%%      number of months=16 ,
%%%      per line=3 ,
%%%      name=XyZ ,
%%      without notes ,
%%%      day spacing = 5em ,
%%%      week spacing = 10ex ,
%    }
%    
%  \calendarnotessetifs
%  
%%  \calendarnotesmatrix
%  \calendar (cal) [dates=2025-01-01 to 2025-12-last,week list];
%
%
%  \calendarnotesdraw    
%\end{tikzpicture}

\end{document}

